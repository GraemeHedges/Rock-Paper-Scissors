<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>

    function computerPlay(){
        let choice = ["rock" , "paper" , "scissors"];
        return choice[Math.floor(Math.random() * choice.length)]
    }

    function playerPlay(){
        let playerChoice; 
        let choiceFormatted;
        let test;
        do { 
            playerChoice = prompt("Choose your weapon! Please enter Rock, Paper or Scissors.", " ");
            if (playerChoice === null){
                playerChoice = "invalid";
            }
            choiceFormatted = playerChoice.toLowerCase();
            if(choiceFormatted === "rock" || choiceFormatted === "paper" || choiceFormatted === "scissors") {
                test = 1;
            } else {
                alert("Please enter Rock, Paper or Scissors!");
            }     
        } while (test != 1);
        return choiceFormatted;
    }

    function playRound(playerSelection,computerSelection) {
        playerSelection = playerPlay();
        computerSelection = computerPlay();    
        if (playerSelection === computerSelection) {
            return 0;
        } else if ((playerSelection === "rock" && computerSelection === "scissors") ||
                   (playerSelection === "paper" && computerSelection === "rock") ||
                   (playerSelection === "scissors" && computerSelection === "paper")) {
                        return 1;
                   } else {
                        return 2;
                   }
    }

      
    function game() {
        let playerScore = 0;
        let computerScore = 0;
        for (i=0; i <5; i++) {
            let result = playRound();
             if (result === 0) {
                 console.log("tie");
             } else if (result === 1) {
                 console.log("player win");
                 playerScore = playerScore + 1;
             } else {
                 console.log("computer win");
                 computerScore = computerScore + 1;
             }
        }
        if (playerScore === computerScore) {
            console.log("You scored " + playerScore + " and the Computer scored " + computerScore + ". It's a tie!");
        } else if (playerScore > computerScore) {
            console.log("You scored " + playerScore + " and the Computer scored " + computerScore + ". You win!");
        } else {
            console.log("You scored " + playerScore + " and the Computer scored " + computerScore + ". You lose!");
        }
    }
  </script>
</body>
</html>