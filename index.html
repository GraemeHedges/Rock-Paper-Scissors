<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>

    //https://www.theodinproject.com/courses/web-development-101/lessons/rock-paper-scissors?ref=lnav

    //Describe
    //Plan
    //Decompose

    //Description

    //function computerPlay(){
    //  let choice =  Math.floor(Math.random() * 3);
    //   if (choice === 0) {
    //       return "Rock";
    //   } else if (choice === 1) {
    //       return "Paper";
    //   } else {
    //       return "Scissors";
    //   }
    //}

    function computerPlay(){
        let choice = ["Rock" , "Paper" , "Scissors"];
        return choice[Math.floor(Math.random() * choice.length)]
    }

    function playerPlay(){
        let playerChoice; 
        let choiceFormatted;
        let test;
        do { 
            playerChoice = prompt("Choose your weapon! Please enter Rock, Paper or Scissors.", "");
            choiceFormatted = playerChoice.charAt(0).toUpperCase() + playerChoice.slice(1).toLowerCase();
            if(choiceFormatted === "Rock" || choiceFormatted === "Paper" || choiceFormatted === "Scissors") {
                test = 1;
            }      
        } while (test != 1);
        return choiceFormatted;
    }

    function playRound(playerSelection,computerSelection) {
        playerSelection = playerPlay();
        computerSelection = computerPlay();    
        if (playerSelection === computerSelection) {
            return 0;
        } else if ((playerSelection === "Rock" && computerSelection === "Scissors") ||
                   (playerSelection === "Paper" && computerSelection === "Rock") ||
                   (playerSelection === "Scissors" && computerSelection === "Paper")) {
                        return 1;
                   } else {
                        return 2;
                   }
    }

        // game function
        // run the playRound function 5 times
        // adjust either the playerScore or computerScore or ties depending on the result
        // after 5 rounds, compare playerScore to computerScore and report who won - either it is a tie, players wins or player loses
        
    function game() {
        //set playerScore,computerScore and ties to 0
        let playerScore = 0;
        let computerScore = 0;
        let ties = 0; //exists for tesing only
        // run the playRound function 5 times
        for (i=0; i <5; i++) {
             if (playRound() === 0) {
                 console.log("tie")
                 ties = ties +1;
             } else if (playRound() === 1) {
                 console.log("player win");
                 playerScore = playerScore + 1;
             } else {
                 console.log("computer win");
                 computerScore = computerScore + 1;
             }
        }
        if (playerScore === computerScore) {
            console.log("You scored " + playerScore + " and the Computer scored " + computerScore + ". It's a tie!");
        } else if (playerScore > computerScore) {
            console.log("You scored " + playerScore + " and the Computer scored " + computerScore + ". You win!");
        } else {
            console.log("You scored " + playerScore + " and the Computer scored " + computerScore + ". You lose!");
        }
        return "Player Score: " + playerScore + " Computer Score: " + computerScore + " (there were " + ties + " ties)";  //test outputs
    }
  </script>
</body>
</html>